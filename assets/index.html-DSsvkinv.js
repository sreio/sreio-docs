import{_ as i,c as t,e as a,o as s}from"./app-DDsjqNbb.js";const d={};function c(n,e){return s(),t("div",null,e[0]||(e[0]=[a(`<div class="hint-container tip"><p class="hint-container-title">etcd是一个开源的、分布式的、强一致性的、可靠的键值存储系统。常用于存储分布式系统的关键数据。它可以在网络分区期间可以优雅地处理leader选举，并且可以容忍机器故障。</p></div><p>关键特性：</p><ul><li><code>分布式</code></li><li><code>强一致性</code></li><li><code>键值存储</code></li><li><code>监听数据变化</code></li></ul><h2 id="键值存储" tabindex="-1"><a class="header-anchor" href="#键值存储"><span>键值存储</span></a></h2><p>etcd的存储格式，仅支持键值（key-value）存储，etcd的键（key）以目录树结构方式组织，就是key的命名和存储类似我们的目录结构。</p><p>key的命名例子:</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-"><span class="line"><span>/sreio</span></span>
<span class="line"><span>/sreio/site/name</span></span>
<span class="line"><span>/sreio/site/domain</span></span>
<span class="line"><span>/sreio/status/urls</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>key以这种目录树结构方式存储，etcd支持前缀搜索，例如：搜索key 以 /sreio 为前缀的所有键值。</p><h2 id="强一致性" tabindex="-1"><a class="header-anchor" href="#强一致性"><span>强一致性</span></a></h2><p>etcd通过Raft协议保证etcd各个节点数据的一致性，任何时刻，都可以从任意etcd节点查询到正确的数据。</p><h2 id="监听数据变化" tabindex="-1"><a class="header-anchor" href="#监听数据变化"><span>监听数据变化</span></a></h2><p>支持监听某个key，或者某一批key的数据变化，当这些key的数据发生变化，就会立即通知监听客户端。</p><h2 id="etcd和redis的差异" tabindex="-1"><a class="header-anchor" href="#etcd和redis的差异"><span>etcd和redis的差异</span></a></h2><p>etcd和redis都支持键值存储，也支持分布式特性，redis支持的数据格式更加丰富，但是他们两个定位和应用场景不一样，关键差异如下：</p><ul><li>redis在分布式环境下不是强一致性的，可能会丢失数据，或者读取不到最新数据。</li><li>redis的数据变化监听机制没有etcd完善。</li><li>因为etcd的强一致性机制，导致性能上要低于redis。</li></ul><p>基于上面的关键差异，如果系统没有强一致性要求，需要缓存系统redis比较合适，如果需要存储分布式系统的元数据，辅助分布式系统协调通知、关键配置 etcd比较合适，这些场景对读写的吞吐量没有缓存要求那么高，但是对数据一致性要求比较高，例如：如果我们开发一个分布式系统，是主从架构，需要实现自动选举一个节点作为主节点，这个选举状态数据的存储引擎，必须是高可用、强一致性的，否则每个节点读取到的状态数据都不一致、或者读取不到数据，集群就乱了，不知道谁是主节点。</p><p>etcd和ZooKeeper是定位类似的项目，跟redis定位不一样。</p><h2 id="应用场景" tabindex="-1"><a class="header-anchor" href="#应用场景"><span>应用场景</span></a></h2><ul><li>分布式系统配置管理</li><li>服务注册与发现</li><li>选主，就是选举leader</li><li>应用调度</li><li>分布式锁</li></ul>`,19)]))}const l=i(d,[["render",c]]),o=JSON.parse('{"path":"/etcd/","title":"etcd简介","lang":"zh-CN","frontmatter":{"title":"etcd简介","createTime":"2025/07/07 18:23:43","permalink":"/etcd/","description":"etcd是一个开源的、分布式的、强一致性的、可靠的键值存储系统。常用于存储分布式系统的关键数据。它可以在网络分区期间可以优雅地处理leader选举，并且可以容忍机器故障。 关键特性： 分布式 强一致性 键值存储 监听数据变化 键值存储 etcd的存储格式，仅支持键值（key-value）存储，etcd的键（key）以目录树结构方式组织，就是key的命名...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"etcd简介\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-07-14T03:14:18.000Z\\",\\"author\\":[]}"],["meta",{"property":"og:url","content":"https://docs.sreio.com/etcd/"}],["meta",{"property":"og:site_name","content":"Sreio Docs"}],["meta",{"property":"og:title","content":"etcd简介"}],["meta",{"property":"og:description","content":"etcd是一个开源的、分布式的、强一致性的、可靠的键值存储系统。常用于存储分布式系统的关键数据。它可以在网络分区期间可以优雅地处理leader选举，并且可以容忍机器故障。 关键特性： 分布式 强一致性 键值存储 监听数据变化 键值存储 etcd的存储格式，仅支持键值（key-value）存储，etcd的键（key）以目录树结构方式组织，就是key的命名..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-07-14T03:14:18.000Z"}],["meta",{"property":"article:modified_time","content":"2025-07-14T03:14:18.000Z"}]]},"readingTime":{"minutes":2.22,"words":666},"git":{"createdTime":1751885168000,"updatedTime":1752462858000,"contributors":[{"name":"sreio","username":"sreio","email":"ingwei@163.com","commits":2,"avatar":"https://avatars.githubusercontent.com/sreio?v=4","url":"https://github.com/sreio"}],"changelog":[{"hash":"392e0717075550911bee8967562578d34bf94c89","time":1752462858000,"email":"ingwei@163.com","author":"sreio","message":"updated: fixed tip"},{"hash":"c1ab990bb57919c348cc77b4236368714def9959","time":1751885168000,"email":"ingwei@163.com","author":"sreio","message":"elk&#x26;clickhouse&#x26;redis&#x26;mongdb&#x26;etcd"}]},"autoDesc":true,"filePathRelative":"etcd/1.README.md","headers":[]}');export{l as comp,o as data};
