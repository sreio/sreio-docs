import{_ as t,c as i,e as a,o as r}from"./app-DDsjqNbb.js";const o="/assets/5-1-CvhevFSP.png",n={};function c(p,e){return r(),i("div",null,e[0]||(e[0]=[a('<p>RabbitMQ路由模式大体上跟发布订阅模式一样，区别在于发布订阅模式将消息转发给所有绑定的队列，而路由模式将消息转发给那个队列是根据路由匹配情况决定的。</p><p>从具体编码角度看，路由模式跟发布订阅模式的区别就是使用的交换机(Exchange)类型不一样，路由模式使用的是Direct类型</p><h3 id="架构图" tabindex="-1"><a class="header-anchor" href="#架构图"><span>架构图</span></a></h3><p>Direct模式</p><figure><img src="'+o+'" alt="" tabindex="0" loading="lazy" width="408" height="171"><figcaption></figcaption></figure><p>说明：</p><ul><li>P 代表生产者 , C1、C2 代表消费者，红色代表队列，X 代表交换机。</li><li>交换机类型为direct</li><li>direct交换机转发消息逻辑：将消息中的Routing key与该Exchange关联的所有Binding中的Routing key进行比较，如果相等，则发送到该Binding对应的Queue中。</li></ul><p>例如上图： 队列Q1的routing key=orange，队列Q2的routing key=black和green，发送消息的时候，如果消息的routing key = orange，则转发至Q1队列，消息的routing key = black和green则转发至Q2队列。</p><h3 id="应用场景" tabindex="-1"><a class="header-anchor" href="#应用场景"><span>应用场景</span></a></h3><p>路由模式是在发布订阅模式的基础上进行了扩展，因此应用场景跟发布订阅模式类似，区别是允许设置消息订阅的条件。</p><p>例如： 某电商网站，有华东、华南、华北、西南四个仓库，每个仓库部署了一套仓储系统，用户购物下单后，由最近的仓库负责发货。</p><p>用户下单后产生下单消息，我们希望将消息转发至对应的地区的仓储系统处理，可以使用路由模式。</p><p>四个仓储系统的发货队列绑定的routing key如下：</p><ul><li>华东 = east</li><li>华北 = north</li><li>华南 = south</li><li>西南 = west</li></ul><p>用户下单后计算用户地址属于哪个地区,算出routing key，然后发送下单消息的时候携带routing key即可，RabbitMQ direct交换机会转发至对应的队列。</p>',15)]))}const l=t(n,[["render",c]]),d=JSON.parse('{"path":"/queue/RabbitMQ/%E8%B7%AF%E7%94%B1%E6%A8%A1%E5%BC%8F/","title":"工作模式-路由模式","lang":"zh-CN","frontmatter":{"title":"工作模式-路由模式","createTime":"2025/07/07 16:56:31","permalink":"/queue/RabbitMQ/路由模式/","description":"RabbitMQ路由模式大体上跟发布订阅模式一样，区别在于发布订阅模式将消息转发给所有绑定的队列，而路由模式将消息转发给那个队列是根据路由匹配情况决定的。 从具体编码角度看，路由模式跟发布订阅模式的区别就是使用的交换机(Exchange)类型不一样，路由模式使用的是Direct类型 架构图 Direct模式 说明： P 代表生产者 , C1、C2 代表...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"工作模式-路由模式\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-07-07T09:12:44.000Z\\",\\"author\\":[]}"],["meta",{"property":"og:url","content":"https://docs.sreio.com/queue/RabbitMQ/%E8%B7%AF%E7%94%B1%E6%A8%A1%E5%BC%8F/"}],["meta",{"property":"og:site_name","content":"Sreio Docs"}],["meta",{"property":"og:title","content":"工作模式-路由模式"}],["meta",{"property":"og:description","content":"RabbitMQ路由模式大体上跟发布订阅模式一样，区别在于发布订阅模式将消息转发给所有绑定的队列，而路由模式将消息转发给那个队列是根据路由匹配情况决定的。 从具体编码角度看，路由模式跟发布订阅模式的区别就是使用的交换机(Exchange)类型不一样，路由模式使用的是Direct类型 架构图 Direct模式 说明： P 代表生产者 , C1、C2 代表..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-07-07T09:12:44.000Z"}],["meta",{"property":"article:modified_time","content":"2025-07-07T09:12:44.000Z"}]]},"readingTime":{"minutes":1.7,"words":510},"git":{"createdTime":1751879564000,"updatedTime":1751879564000,"contributors":[{"name":"sreio","username":"sreio","email":"ingwei@163.com","commits":1,"avatar":"https://avatars.githubusercontent.com/sreio?v=4","url":"https://github.com/sreio"}],"changelog":[{"hash":"ec6b65d5f5e156de0bddee87610673d45a5591df","time":1751879564000,"email":"ingwei@163.com","author":"sreio","message":"queue"}]},"autoDesc":true,"filePathRelative":"queue/2.RabbitMQ教程/3.工作原理/5.工作模式-路由模式.md","headers":[]}');export{l as comp,d as data};
