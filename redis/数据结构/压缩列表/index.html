<!doctype html><html lang="zh-CN"><head><meta charset="utf-8" /><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="generator" content="VuePress 2.0.0-rc.23" /><meta name="theme" content="VuePress Theme Plume 1.0.0-rc.155" /><script id="check-mac-os">document.documentElement.classList.toggle('mac', /Mac|iPhone|iPod|iPad/i.test(navigator.platform))</script><script id="check-dark-mode">;(function () {const um= localStorage.getItem('vuepress-theme-appearance') || 'auto';const sm = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;const isDark = um === 'dark' || (um !== 'light' && sm);document.documentElement.dataset.theme = isDark ? 'dark' : 'light';})();</script><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"压缩列表","image":[""],"dateModified":"2025-12-29T16:03:14.000Z","author":[]}</script><meta property="og:url" content="https://docs.sreio.com/redis/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%8E%8B%E7%BC%A9%E5%88%97%E8%A1%A8/"><meta property="og:site_name" content="Sreio Docs"><meta property="og:title" content="压缩列表"><meta property="og:description" content="压缩列表的最大特点，就是它被设计成一种内存紧凑型的数据结构，占用一块连续的内存空间，不仅可以利用 CPU 缓存，而且会针对不同长度的数据，进行相应编码，这种方法可以有效地节省内存开销。 但是，压缩列表的缺陷也是有的： 不能保存过多的元素，否则查询效率就会降低； 新增或修改某个元素时，压缩列表占用的内存空间需要重新分配，甚至可能引发连锁更新的问题。 因此..."><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2025-12-29T16:03:14.000Z"><meta property="article:modified_time" content="2025-12-29T16:03:14.000Z"><link rel="icon" type="image/png" href="/favicon.ico"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6715279698150024" crossorigin="anonymous"></script><title>压缩列表 | Sreio Docs</title><meta name="description" content="压缩列表的最大特点，就是它被设计成一种内存紧凑型的数据结构，占用一块连续的内存空间，不仅可以利用 CPU 缓存，而且会针对不同长度的数据，进行相应编码，这种方法可以有效地节省内存开销。 但是，压缩列表的缺陷也是有的： 不能保存过多的元素，否则查询效率就会降低； 新增或修改某个元素时，压缩列表占用的内存空间需要重新分配，甚至可能引发连锁更新的问题。 因此..."><link rel="preload" href="/assets/style-BXtE0-vj.css" as="style"><link rel="stylesheet" href="/assets/style-BXtE0-vj.css"><link rel="modulepreload" href="/assets/app-DWByWgeb.js"><link rel="modulepreload" href="/assets/index.html-vJBvupAa.js"></head><body><div id="app"><!--[--><!--[--><div class="theme-plume vp-layout" vp-container data-v-d90a7a26><!--[--><!--[--><!--]--><!--[--><span tabindex="-1" data-v-d5a8d0bc></span><a href="#VPContent" class="vp-skip-link visually-hidden" data-v-d5a8d0bc> Skip to content </a><!--]--><!----><header class="vp-nav" data-v-d90a7a26 data-v-e98a6132><div class="vp-navbar" vp-navbar data-v-e98a6132 data-v-2c31ea5e><div class="wrapper" data-v-2c31ea5e><div class="container" data-v-2c31ea5e><div class="title" data-v-2c31ea5e><div class="vp-navbar-title has-sidebar" data-v-2c31ea5e data-v-1a4f50af><a class="vp-link link no-icon title" href="/" data-v-1a4f50af><!--[--><!--[--><!--]--><!--[--><!--[--><!--[--><img class="vp-image dark logo" style="" src="/favicon.ico" alt data-v-480e858a><!--]--><!--[--><img class="vp-image light logo" style="" src="/favicon.ico" alt data-v-480e858a><!--]--><!--]--><!--]--><span data-v-1a4f50af>Sreio Docs</span><!--[--><!--]--><!--]--><!----></a></div></div><div class="content" data-v-2c31ea5e><div class="content-body" data-v-2c31ea5e><!--[--><!--]--><div class="vp-navbar-search search" data-v-2c31ea5e><div class="search-wrapper" data-v-97535d1e><!----><div id="local-search" data-v-97535d1e><button type="button" class="mini-search mini-search-button" aria-label="搜索文档" data-v-97535d1e><span class="mini-search-button-container"><span class="mini-search-search-icon vpi-mini-search" aria-label="search icon"></span><span class="mini-search-button-placeholder">搜索文档</span></span><span class="mini-search-button-keys"><kbd class="mini-search-button-key"></kbd><kbd class="mini-search-button-key">K</kbd></span></button></div></div></div><!--[--><!--]--><nav aria-labelledby="main-nav-aria-label" class="vp-navbar-menu menu" data-v-2c31ea5e data-v-d43c1732><span id="main-nav-aria-label" class="visually-hidden" data-v-d43c1732>Main Navigation</span><!--[--><!--[--><a class="vp-link link navbar-menu-link" href="/" tabindex="0" data-v-d43c1732 data-v-d4acf911><!--[--><!----><span data-v-d4acf911>首页</span><!----><!--]--><!----></a><!--]--><!--[--><div class="vp-flyout vp-navbar-menu-group" data-v-d43c1732 data-v-86530b6c><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-86530b6c><span class="text" data-v-86530b6c><!----><!----><span data-v-86530b6c>编程语言</span><!----><span class="vpi-chevron-down text-icon" data-v-86530b6c></span></span></button><div class="menu" data-v-86530b6c><div class="vp-menu" data-v-86530b6c data-v-709dc2b1><div class="items" data-v-709dc2b1><!--[--><!--[--><div class="vp-menu-link" data-v-709dc2b1 data-v-1ff1855f><a class="vp-link link" href="/golang/" data-v-1ff1855f><!--[--><!----> Golang <!----><!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-709dc2b1 data-v-1ff1855f><a class="vp-link link" href="/php/" data-v-1ff1855f><!--[--><!----> PHP <!----><!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="vp-flyout vp-navbar-menu-group" data-v-d43c1732 data-v-86530b6c><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-86530b6c><span class="text" data-v-86530b6c><!----><!----><span data-v-86530b6c>数据库</span><!----><span class="vpi-chevron-down text-icon" data-v-86530b6c></span></span></button><div class="menu" data-v-86530b6c><div class="vp-menu" data-v-86530b6c data-v-709dc2b1><div class="items" data-v-709dc2b1><!--[--><!--[--><div class="vp-menu-link" data-v-709dc2b1 data-v-1ff1855f><a class="vp-link link" href="/mysql/" data-v-1ff1855f><!--[--><!----> MySQL <!----><!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-709dc2b1 data-v-1ff1855f><a class="vp-link link" href="/redis/" data-v-1ff1855f><!--[--><!----> Redis <!----><!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-709dc2b1 data-v-1ff1855f><a class="vp-link link" href="/mongodb/" data-v-1ff1855f><!--[--><!----> MongoDB <!----><!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-709dc2b1 data-v-1ff1855f><a class="vp-link link" href="/clickhouse/" data-v-1ff1855f><!--[--><!----> ClickHouse <!----><!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-709dc2b1 data-v-1ff1855f><a class="vp-link link" href="/etcd/" data-v-1ff1855f><!--[--><!----> Etcd <!----><!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="vp-flyout vp-navbar-menu-group" data-v-d43c1732 data-v-86530b6c><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-86530b6c><span class="text" data-v-86530b6c><!----><!----><span data-v-86530b6c>DevOps</span><!----><span class="vpi-chevron-down text-icon" data-v-86530b6c></span></span></button><div class="menu" data-v-86530b6c><div class="vp-menu" data-v-86530b6c data-v-709dc2b1><div class="items" data-v-709dc2b1><!--[--><!--[--><div class="vp-menu-link" data-v-709dc2b1 data-v-1ff1855f><a class="vp-link link" href="/docker/" data-v-1ff1855f><!--[--><!----> Docker <!----><!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-709dc2b1 data-v-1ff1855f><a class="vp-link link" href="/k8s/" data-v-1ff1855f><!--[--><!----> Kubernetes <!----><!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-709dc2b1 data-v-1ff1855f><a class="vp-link link" href="/linux/" data-v-1ff1855f><!--[--><!----> Linux <!----><!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-709dc2b1 data-v-1ff1855f><a class="vp-link link" href="/nginx/" data-v-1ff1855f><!--[--><!----> Nginx <!----><!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-709dc2b1 data-v-1ff1855f><a class="vp-link link" href="/ELK/" data-v-1ff1855f><!--[--><!----> ELK <!----><!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-709dc2b1 data-v-1ff1855f><a class="vp-link link" href="/git/" data-v-1ff1855f><!--[--><!----> Git <!----><!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-709dc2b1 data-v-1ff1855f><a class="vp-link link" href="/gitlab/" data-v-1ff1855f><!--[--><!----> GitLab <!----><!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="vp-flyout vp-navbar-menu-group" data-v-d43c1732 data-v-86530b6c><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-86530b6c><span class="text" data-v-86530b6c><!----><!----><span data-v-86530b6c>中间件</span><!----><span class="vpi-chevron-down text-icon" data-v-86530b6c></span></span></button><div class="menu" data-v-86530b6c><div class="vp-menu" data-v-86530b6c data-v-709dc2b1><div class="items" data-v-709dc2b1><!--[--><!--[--><div class="vp-menu-link" data-v-709dc2b1 data-v-1ff1855f><a class="vp-link link" href="/queue/" data-v-1ff1855f><!--[--><!----> 消息队列 <!----><!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="vp-flyout vp-navbar-menu-group" data-v-d43c1732 data-v-86530b6c><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-86530b6c><span class="text" data-v-86530b6c><!----><!----><span data-v-86530b6c>基础知识</span><!----><span class="vpi-chevron-down text-icon" data-v-86530b6c></span></span></button><div class="menu" data-v-86530b6c><div class="vp-menu" data-v-86530b6c data-v-709dc2b1><div class="items" data-v-709dc2b1><!--[--><!--[--><div class="vp-menu-link" data-v-709dc2b1 data-v-1ff1855f><a class="vp-link link" href="/brain/" data-v-1ff1855f><!--[--><!----> 数据结构与算法 <!----><!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-709dc2b1 data-v-1ff1855f><a class="vp-link link" href="/network/" data-v-1ff1855f><!--[--><!----> 网络协议 <!----><!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="vp-flyout vp-navbar-menu-group" data-v-d43c1732 data-v-86530b6c><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-86530b6c><span class="text" data-v-86530b6c><!----><!----><span data-v-86530b6c>更多</span><!----><span class="vpi-chevron-down text-icon" data-v-86530b6c></span></span></button><div class="menu" data-v-86530b6c><div class="vp-menu" data-v-86530b6c data-v-709dc2b1><div class="items" data-v-709dc2b1><!--[--><!--[--><div class="vp-menu-link" data-v-709dc2b1 data-v-1ff1855f><a class="vp-link link" href="/ai/" data-v-1ff1855f><!--[--><!----> AI <!----><!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-709dc2b1 data-v-1ff1855f><a class="vp-link link" href="/interview/" data-v-1ff1855f><!--[--><!----> 面试宝典 <!----><!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-709dc2b1 data-v-1ff1855f><a class="vp-link link" href="/it/" data-v-1ff1855f><!--[--><!----> IT 名词 <!----><!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-709dc2b1 data-v-1ff1855f><a class="vp-link link" href="/cpwp/" data-v-1ff1855f><!--[--><!----> 程序员发音 <!----><!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-709dc2b1 data-v-1ff1855f><a class="vp-link link" href="/vpn/" data-v-1ff1855f><!--[--><!----> VPN <!----><!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-709dc2b1 data-v-1ff1855f><a class="vp-link link" href="/%E9%A9%BE%E7%85%A7%E8%80%83%E8%AF%95/" data-v-1ff1855f><!--[--><!----> 驾照考试 <!----><!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-709dc2b1 data-v-1ff1855f><a class="vp-link link" href="/sites/" data-v-1ff1855f><!--[--><!----> 网站导航 <!----><!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!--[--><!--]--><!----><div class="vp-navbar-appearance appearance" data-v-2c31ea5e data-v-a295abf6><button class="vp-switch vp-switch-appearance" type="button" role="switch" title aria-checked="false" data-v-a295abf6 data-v-596c25a9 data-v-7eb32327><span class="check" data-v-7eb32327><span class="icon" data-v-7eb32327><!--[--><span class="vpi-sun sun" data-v-596c25a9></span><span class="vpi-moon moon" data-v-596c25a9></span><!--]--></span></span></button></div><div class="vp-social-links vp-navbar-social-links social-links" data-v-2c31ea5e data-v-ad52545c data-v-40bac536><!--[--><a class="vp-social-link no-icon" href="https://github.com/sreio/sreio-docs" aria-label="github" target="_blank" rel="noopener" data-v-40bac536 data-v-67b21932><span class="vpi-social-github" /></a><!--]--></div><div class="vp-flyout vp-navbar-extra extra" data-v-2c31ea5e data-v-652282fd data-v-86530b6c><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-86530b6c><span class="vpi-more-horizontal icon" data-v-86530b6c></span></button><div class="menu" data-v-86530b6c><div class="vp-menu" data-v-86530b6c data-v-709dc2b1><!----><!--[--><!--[--><!----><div class="group" data-v-652282fd><div class="item appearance" data-v-652282fd><p class="label" data-v-652282fd>外观</p><div class="appearance-action" data-v-652282fd><button class="vp-switch vp-switch-appearance" type="button" role="switch" title aria-checked="false" data-v-652282fd data-v-596c25a9 data-v-7eb32327><span class="check" data-v-7eb32327><span class="icon" data-v-7eb32327><!--[--><span class="vpi-sun sun" data-v-596c25a9></span><span class="vpi-moon moon" data-v-596c25a9></span><!--]--></span></span></button></div></div></div><div class="group" data-v-652282fd><div class="item social-links" data-v-652282fd><div class="vp-social-links social-links-list" data-v-652282fd data-v-40bac536><!--[--><a class="vp-social-link no-icon" href="https://github.com/sreio/sreio-docs" aria-label="github" target="_blank" rel="noopener" data-v-40bac536 data-v-67b21932><span class="vpi-social-github" /></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="vp-navbar-hamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="nav-screen" data-v-2c31ea5e data-v-2b50024d><span class="container" data-v-2b50024d><span class="top" data-v-2b50024d></span><span class="middle" data-v-2b50024d></span><span class="bottom" data-v-2b50024d></span></span></button></div></div></div></div><div class="divider" data-v-2c31ea5e><div class="divider-line" data-v-2c31ea5e></div></div></div><!----></header><div class="vp-local-nav reached-top" data-v-d90a7a26 data-v-3944d8e8><button class="menu" aria-expanded="false" aria-controls="SidebarNav" data-v-3944d8e8><span class="vpi-align-left menu-icon" data-v-3944d8e8></span><span class="menu-text" data-v-3944d8e8>Menu</span></button><div class="vp-local-nav-outline-dropdown" style="--vp-vh:0px;" data-v-3944d8e8 data-v-4114a62c><button data-v-4114a62c>返回顶部</button><!----></div></div><aside class="vp-sidebar" vp-sidebar data-v-d90a7a26 data-v-95211354><div class="curtain" data-v-95211354></div><nav id="SidebarNav" class="nav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-95211354><span id="sidebar-aria-label" class="visually-hidden" data-v-95211354> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-473fd05b><section class="vp-sidebar-item sidebar-item level-0 collapsible has-active" data-v-473fd05b data-v-12048f0f><div class="item" role="button" tabindex="0" data-v-12048f0f><div class="indicator" data-v-12048f0f></div><!----><h2 class="text" data-v-12048f0f><span data-v-12048f0f>数据结构</span><!----></h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-12048f0f><span class="vpi-chevron-right caret-icon" data-v-12048f0f></span></div></div><div data-v-12048f0f data-v-12048f0f><div class="items" data-v-12048f0f><!--[--><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-12048f0f data-v-12048f0f><div class="item" data-v-12048f0f><div class="indicator" data-v-12048f0f></div><!----><a class="vp-link link link" href="/redis/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" data-v-12048f0f><!--[--><p class="text" data-v-12048f0f><span data-v-12048f0f>数据结构</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-12048f0f data-v-12048f0f><div class="item" data-v-12048f0f><div class="indicator" data-v-12048f0f></div><!----><a class="vp-link link link" href="/redis/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/sds/" data-v-12048f0f><!--[--><p class="text" data-v-12048f0f><span data-v-12048f0f>SDS</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-12048f0f data-v-12048f0f><div class="item" data-v-12048f0f><div class="indicator" data-v-12048f0f></div><!----><a class="vp-link link link" href="/redis/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E9%93%BE%E8%A1%A8/" data-v-12048f0f><!--[--><p class="text" data-v-12048f0f><span data-v-12048f0f>链表</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-12048f0f data-v-12048f0f><div class="item" data-v-12048f0f><div class="indicator" data-v-12048f0f></div><!----><a class="vp-link link link" href="/redis/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%8E%8B%E7%BC%A9%E5%88%97%E8%A1%A8/" data-v-12048f0f><!--[--><p class="text" data-v-12048f0f><span data-v-12048f0f>压缩列表</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-12048f0f data-v-12048f0f><div class="item" data-v-12048f0f><div class="indicator" data-v-12048f0f></div><!----><a class="vp-link link link" href="/redis/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%93%88%E5%B8%8C%E8%A1%A8/" data-v-12048f0f><!--[--><p class="text" data-v-12048f0f><span data-v-12048f0f>哈希表</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-12048f0f data-v-12048f0f><div class="item" data-v-12048f0f><div class="indicator" data-v-12048f0f></div><!----><a class="vp-link link link" href="/redis/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%95%B4%E6%95%B0%E9%9B%86%E5%90%88/" data-v-12048f0f><!--[--><p class="text" data-v-12048f0f><span data-v-12048f0f>整数集合</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-12048f0f data-v-12048f0f><div class="item" data-v-12048f0f><div class="indicator" data-v-12048f0f></div><!----><a class="vp-link link link" href="/redis/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E8%B7%B3%E8%A1%A8/" data-v-12048f0f><!--[--><p class="text" data-v-12048f0f><span data-v-12048f0f>跳表</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-12048f0f data-v-12048f0f><div class="item" data-v-12048f0f><div class="indicator" data-v-12048f0f></div><!----><a class="vp-link link link" href="/redis/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/quicklist/" data-v-12048f0f><!--[--><p class="text" data-v-12048f0f><span data-v-12048f0f>quicklist</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-12048f0f data-v-12048f0f><div class="item" data-v-12048f0f><div class="indicator" data-v-12048f0f></div><!----><a class="vp-link link link" href="/redis/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/listpack/" data-v-12048f0f><!--[--><p class="text" data-v-12048f0f><span data-v-12048f0f>listpack</span><!----></p><!--]--><!----></a><!----></div><!----></div><!--]--></div></div></section></div><!--]--><!--[--><!--]--></nav></aside><!--[--><div id="VPContent" vp-content class="vp-content has-sidebar" data-v-d90a7a26 data-v-b2beaca7><div class="vp-doc-container has-sidebar has-aside" data-v-b2beaca7 data-v-23f6ad98><!--[--><!--]--><div class="container" data-v-23f6ad98><div class="aside" vp-outline data-v-23f6ad98><div class="aside-curtain" data-v-23f6ad98></div><div class="aside-container" data-v-23f6ad98><div class="aside-content" data-v-23f6ad98><div class="vp-doc-aside" data-v-23f6ad98 data-v-5976474c><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="vp-doc-aside-outline" role="navigation" data-v-5976474c data-v-aa56eba0><div class="content" data-v-aa56eba0><div class="outline-marker" data-v-aa56eba0></div><div id="doc-outline-aria-label" aria-level="2" class="outline-title" role="heading" data-v-aa56eba0><span data-v-aa56eba0>此页内容</span><span class="vpi-print icon" data-v-aa56eba0></span></div><ul class="root" data-v-aa56eba0 data-v-3e6b023c><!--[--><!--]--></ul></div></nav><!--[--><!--[--><!--[--><!--[--><div class="aside-nav-wrapper" data-v-d90a7a26 data-v-45e94c4e><a class="vp-link link no-icon link" href="https://github.com/sreio/sreio-docs" target="_blank" rel="noreferrer" data-v-45e94c4e><!--[--><span class="vpi-github-star" data-v-45e94c4e></span><span class="link-text" data-v-45e94c4e>在 GitHub 上 Star</span><span class="vpi-arrow-right" data-v-45e94c4e></span><!--]--><!----></a><a class="vp-link link no-icon link" href="https://github.com/sreio/sreio-docs/issues/new/choose" target="_blank" rel="noreferrer" data-v-45e94c4e><!--[--><span class="vpi-github-issue" data-v-45e94c4e></span><span class="link-text" data-v-45e94c4e>遇到问题？</span><span class="vpi-arrow-right" data-v-45e94c4e></span><!--]--><!----></a></div><!--]--><!--]--><!--]--><!--]--><div class="spacer" data-v-5976474c></div><!--[--><!--]--></div></div></div></div><div class="content" data-v-23f6ad98><div class="content-container" data-v-23f6ad98><!--[--><!--]--><main class="main" data-v-23f6ad98><nav class="vp-breadcrumb" data-v-23f6ad98 data-v-1ae4ad7a><ol vocab="https://schema.org/" typeof="BreadcrumbList" data-v-1ae4ad7a><!--[--><li property="itemListElement" typeof="ListItem" data-v-1ae4ad7a><a class="vp-link link breadcrumb" href="/" property="item" typeof="WebPage" data-v-1ae4ad7a><!--[-->首页<!--]--><!----></a><span class="vpi-chevron-right" data-v-1ae4ad7a></span><meta property="name" content="首页" data-v-1ae4ad7a><meta property="position" content="1" data-v-1ae4ad7a></li><li property="itemListElement" typeof="ListItem" data-v-1ae4ad7a><span class="vp-link breadcrumb" property="item" typeof="WebPage" data-v-1ae4ad7a><!--[-->数据结构<!--]--><!----></span><span class="vpi-chevron-right" data-v-1ae4ad7a></span><meta property="name" content="数据结构" data-v-1ae4ad7a><meta property="position" content="2" data-v-1ae4ad7a></li><li property="itemListElement" typeof="ListItem" data-v-1ae4ad7a><a class="vp-link link breadcrumb current" href="/redis/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%8E%8B%E7%BC%A9%E5%88%97%E8%A1%A8/" property="item" typeof="WebPage" data-v-1ae4ad7a><!--[-->压缩列表<!--]--><!----></a><!----><meta property="name" content="压缩列表" data-v-1ae4ad7a><meta property="position" content="3" data-v-1ae4ad7a></li><!--]--></ol></nav><!--[--><!--]--><!--[--><h1 class="vp-doc-title page-title" data-v-27be53cb>压缩列表 <!----></h1><div class="vp-doc-meta" data-v-27be53cb><!--[--><!--]--><p class="reading-time" data-v-27be53cb><span class="vpi-books icon" data-v-27be53cb></span><span data-v-27be53cb>约 2001 字</span><span data-v-27be53cb>大约 7 分钟</span></p><!----><!--[--><!--]--><p class="create-time" data-v-27be53cb><span class="vpi-clock icon" data-v-27be53cb></span><span data-v-27be53cb>2025-07-07</span></p></div><!--]--><!--[--><!--]--><div class="_redis_%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84_%E5%8E%8B%E7%BC%A9%E5%88%97%E8%A1%A8_ external-link-icon-enabled vp-doc plume-content" vp-content data-v-23f6ad98><!--[--><!--]--><div data-v-23f6ad98><p>压缩列表的最大特点，就是它被设计成一种内存紧凑型的数据结构，占用一块连续的内存空间，不仅可以利用 CPU 缓存，而且会针对不同长度的数据，进行相应编码，这种方法可以有效地节省内存开销。</p><p>但是，压缩列表的缺陷也是有的：</p><ul><li>不能保存过多的元素，否则查询效率就会降低；</li><li>新增或修改某个元素时，压缩列表占用的内存空间需要重新分配，甚至可能引发连锁更新的问题。</li></ul><p>因此，Redis 对象（List 对象、Hash 对象、Zset 对象）包含的元素数量较少，或者元素值不大的情况才会使用压缩列表作为底层数据结构。</p><p>接下来，就跟大家详细聊下压缩列表。</p><h2 id="压缩列表结构设计" tabindex="-1"><a class="header-anchor" href="#压缩列表结构设计"><span>压缩列表结构设计</span></a></h2><p>压缩列表是 Redis 为了节约内存而开发的，它是由连续内存块组成的顺序型数据结构，有点类似于数组。</p><figure><img src="data:image/png;base64,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" alt="" tabindex="0" loading="lazy" width="962" height="62"><figcaption>:size=50%</figcaption></figure><p>压缩列表在表头有三个字段：</p><ul><li><code>zlbytes</code>，记录整个压缩列表占用对内存字节数；</li><li><code>zltail</code>，记录压缩列表「尾部」节点距离起始地址由多少字节，也就是列表尾的偏移量；</li><li><code>zllen</code>，记录压缩列表包含的节点数量；</li><li><code>zlend</code>，标记压缩列表的结束点，固定值 0xFF（十进制255）。</li></ul><p>在压缩列表中，如果我们要查找定位第一个元素和最后一个元素，可以通过表头三个字段（zllen）的长度直接定位，复杂度是 O(1)。而<code>查找其他元素时，就没有这么高效了，只能逐个查找，此时的复杂度就是 O(N) 了，因此压缩列表不适合保存过多的元素</code>。</p><p>另外，压缩列表节点（entry）的构成如下：</p><figure><img src="/assets/4-2-FC8i1bcY.png" alt="" tabindex="0" loading="lazy" width="962" height="302"><figcaption>:size=50%</figcaption></figure><p>压缩列表节点包含三部分内容：</p><ul><li><code>prevlen</code>，记录了「前一个节点」的长度，目的是为了实现从后向前遍历；</li><li><code>encoding</code>，记录了当前节点实际数据的「类型和长度」，类型主要有两种：字符串和整数。</li><li><code>data</code>，记录了当前节点的实际数据，类型和长度都由 encoding 决定；</li></ul><p>当我们往压缩列表中插入数据时，压缩列表就会根据数据类型是字符串还是整数，以及数据的大小，会使用不同空间大小的 prevlen 和 encoding 这两个元素里保存的信息，<code>这种根据数据大小和类型进行不同的空间大小分配的设计思想，正是 Redis 为了节省内存而采用的</code>。</p><p>分别说下，prevlen 和 encoding 是如何根据数据的大小和类型来进行不同的空间大小分配。</p><p>压缩列表里的每个节点中的 prevlen 属性都记录了「前一个节点的长度」，而且 prevlen 属性的空间大小跟前一个节点长度值有关，比如：</p><p>如果<code>前一个节点的长度小于 254 字节</code>，那么 prevlen 属性需要用 <code>1 字节的空间</code>来保存这个长度值； 如果<code>前一个节点的长度大于等于 254 字节</code>，那么 prevlen 属性需要用 <code>5 字节的空间</code>来保存这个长度值；</p><p>encoding 属性的空间大小跟数据是字符串还是整数，以及字符串的长度有关，如下图（下图中的 content 表示的是实际数据，即本文的 data 字段）：</p><figure><img src="/assets/4-3-3Wsq7Rey.png" alt="" tabindex="0" loading="lazy" width="1675" height="851"><figcaption>:size=50%</figcaption></figure><ul><li>如果<code>当前节点的数据是整数</code>，则 encoding 会使用 <code>1 字节的空间</code>进行编码，也就是 encoding 长度为 1 字节。通过 encoding 确认了整数类型，就可以确认整数数据的实际大小了，比如如果 encoding 编码确认了数据是 int16 整数，那么 data 的长度就是 int16 的大小。</li><li>如果<code>当前节点的数据是字符串，根据字符串的长度大小</code>，encoding 会使用<code> 1 字节/2字节/5字节的空间</code>进行编码，encoding 编码的前两个 bit 表示数据的类型，后续的其他 bit 标识字符串数据的实际长度，即 data 的长度。</li></ul><h2 id="连锁更新" tabindex="-1"><a class="header-anchor" href="#连锁更新"><span>连锁更新</span></a></h2><p>压缩列表除了查找复杂度高的问题，还有一个问题。</p><div class="hint-container tip"><p class="hint-container-title">压缩列表新增某个元素或修改某个元素时，如果空间不不够，压缩列表占用的内存空间就需要重新分配。而当新插入的元素较大时，可能会导致后续元素的 prevlen 占用空间都发生变化，从而引起「连锁更新」问题，导致每个元素的空间都要重新分配，造成访问压缩列表性能的下降。</p></div><p>前面提到，压缩列表节点的 prevlen 属性会根据前一个节点的长度进行不同的空间大小分配：</p><ul><li>如果前一个<code>节点的长度小于 254 字节</code>，那么 prevlen 属性需要用<code> 1 字节的空间</code>来保存这个长度值；</li><li>如果前一个<code>节点的长度大于等于 254 字节</code>，那么 prevlen 属性需要用 <code>5 字节的空间</code>来保存这个长度值；</li></ul><p>现在假设一个压缩列表中有多个连续的、长度在 250～253 之间的节点，如下图：</p><figure><img src="/assets/4-4-C24SIS6H.png" alt="" tabindex="0" loading="lazy" width="962" height="144"><figcaption>:size=50%</figcaption></figure><p>因为这些节点长度值小于 254 字节，所以 prevlen 属性需要用 1 字节的空间来保存这个长度值。</p><p>这时，如果将一个长度大于等于 254 字节的新节点加入到压缩列表的表头节点，即新节点将成为 e1 的前置节点，如下图：</p><figure><img src="/assets/4-5-BGFxLzBC.png" alt="" tabindex="0" loading="lazy" width="1082" height="204"><figcaption>:size=50%</figcaption></figure><p>因为 e1 节点的 prevlen 属性只有 1 个字节大小，无法保存新节点的长度，此时就需要对压缩列表的空间重分配操作，并将 e1 节点的 prevlen 属性从原来的 1 字节大小扩展为 5 字节大小。</p><p>多米诺牌的效应就此开始。</p><figure><img src="/assets/4-6-CckTlEZ2.png" alt="" tabindex="0" loading="lazy" width="1082" height="782"><figcaption>:size=50%</figcaption></figure><p>e1 原本的长度在 250～253 之间，因为刚才的扩展空间，此时 e1 的长度就大于等于 254 了，因此原本 e2 保存 e1 的 prevlen 属性也必须从 1 字节扩展至 5 字节大小。</p><p>正如扩展 e1 引发了对 e2 扩展一样，扩展 e2 也会引发对 e3 的扩展，而扩展 e3 又会引发对 e4 的扩展.... 一直持续到结尾。</p><p><code>这种在特殊情况下产生的连续多次空间扩展操作就叫做「连锁更新」</code>，就像多米诺牌的效应一样，第一张牌倒下了，推动了第二张牌倒下；第二张牌倒下，又推动了第三张牌倒下....，</p><h2 id="压缩列表的缺陷" tabindex="-1"><a class="header-anchor" href="#压缩列表的缺陷"><span>压缩列表的缺陷</span></a></h2><p>空间扩展操作也就是重新分配内存，因此<code>连锁更新一旦发生，就会导致压缩列表占用的内存空间要多次重新分配，这就会直接影响到压缩列表的访问性能</code>。</p><p>所以说，<code>虽然压缩列表紧凑型的内存布局能节省内存开销，但是如果保存的元素数量增加了，或是元素变大了，会导致内存重新分配，最糟糕的是会有「连锁更新」的问题</code>。</p><p>因此，<code>压缩列表只会用于保存的节点数量不多的场景</code>，只要节点数量足够小，即使发生连锁更新，也是能接受的。</p><p>虽说如此，Redis 针对压缩列表在设计上的不足，在后来的版本中，新增设计了两种数据结构：quicklist（Redis 3.2 引入） 和 listpack（Redis 5.0 引入）。这两种数据结构的设计目标，就是尽可能地保持压缩列表节省内存的优势，同时解决压缩列表的「连锁更新」的问题。</p></div><!--[--><h2 id="doc-contributors" tabindex="-1"><a href="#doc-contributors" class="header-anchor"><span>贡献者</span></a></h2><div class="vp-contributors"><a href="https://github.com/sreio" target="_blank" rel="noreferrer" class="vp-contributor"><img src="https://avatars.githubusercontent.com/sreio?v=4" alt class="vp-contributor-avatar"><span class="vp-contributor-name">sreio</span></a></div><!--]--><!--[--><h2 id="doc-changelog" tabindex="-1"><a href="#doc-changelog" class="header-anchor"><span>更新日志</span></a></h2><div class="vp-changelog-wrapper"><div class="vp-changelog-header"><div class="vp-latest-updated"><span class="vp-changelog-icon"></span><span data-allow-mismatch>2025/12/29 16:03</span></div><div><span class="vp-changelog-menu-icon"></span><span>查看所有更新日志</span></div></div><ul class="vp-changelog-list"><!--[--><li class="vp-changelog-item-commit"><a class="vp-changelog-hash" href="https://github.com/sreio/sreio-docs/commit/6dd596b6752ea1c49be57e00b1b0c941c0324a5d" target="_blank" rel="noreferrer"><code>6dd59</code></a><span class="vp-changelog-divider">-</span><span class="vp-changelog-message">feat: Add new documentation across Go, PHP, Docker, Linux, Database, Middleware, and Fundamentals, while removing some old images and files.</span><span class="vp-changelog-date" data-allow-mismatch>于 <time datetime="2025-12-29T16:03:14.000Z">2025/12/29</time></span></li><li class="vp-changelog-item-commit"><a class="vp-changelog-hash" href="https://github.com/sreio/sreio-docs/commit/392e0717075550911bee8967562578d34bf94c89" target="_blank" rel="noreferrer"><code>392e0</code></a><span class="vp-changelog-divider">-</span><span class="vp-changelog-message">updated: fixed tip</span><span class="vp-changelog-date" data-allow-mismatch>于 <time datetime="2025-07-14T03:14:18.000Z">2025/7/14</time></span></li><li class="vp-changelog-item-commit"><a class="vp-changelog-hash" href="https://github.com/sreio/sreio-docs/commit/c1ab990bb57919c348cc77b4236368714def9959" target="_blank" rel="noreferrer"><code>c1ab9</code></a><span class="vp-changelog-divider">-</span><span class="vp-changelog-message">elk&#x26;clickhouse&#x26;redis&#x26;mongdb&#x26;etcd</span><span class="vp-changelog-date" data-allow-mismatch>于 <time datetime="2025-07-07T10:46:08.000Z">2025/7/7</time></span></li><!--]--></ul></div><!--]--><!----></div></main><footer class="vp-doc-footer" data-v-23f6ad98 data-v-fda6bbae><!--[--><!--]--><div class="edit-info" data-v-fda6bbae><div class="edit-link" data-v-fda6bbae><a class="vp-link link no-icon edit-link-button" href="https://github.com/sreio/sreio-docs/edit/main/docs/database/redis/2.数据结构/4.压缩列表.md" target="_blank" rel="noreferrer" data-v-fda6bbae><!--[--><span class="vpi-square-pen edit-link-icon" aria-label="edit icon" data-v-fda6bbae></span> 编辑此页<!--]--><!----></a></div><!----></div><!----><nav class="prev-next" data-v-fda6bbae><div class="pager" data-v-fda6bbae><a class="vp-link link pager-link prev" href="/redis/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E9%93%BE%E8%A1%A8/" data-v-fda6bbae><!--[--><span class="desc" data-v-fda6bbae>上一页</span><span class="title" data-v-fda6bbae>链表</span><!--]--><!----></a></div><div class="pager" data-v-fda6bbae><a class="vp-link link pager-link next" href="/redis/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%93%88%E5%B8%8C%E8%A1%A8/" data-v-fda6bbae><!--[--><span class="desc" data-v-fda6bbae>下一页</span><span class="title" data-v-fda6bbae>哈希表</span><!--]--><!----></a></div></nav></footer><!----><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!--]--><button style="display:none;" type="button" class="vp-back-to-top" aria-label="back to top" data-v-d90a7a26 data-v-bcf8d9a6><span class="percent" data-allow-mismatch data-v-bcf8d9a6>0%</span><span class="show icon vpi-back-to-top" data-v-bcf8d9a6></span><svg aria-hidden="true" data-v-bcf8d9a6><circle cx="50%" cy="50%" data-allow-mismatch style="stroke-dasharray:calc(0% - 12.566370614359172px) calc(314.1592653589793% - 12.566370614359172px);" data-v-bcf8d9a6></circle></svg></button><footer class="vp-footer has-sidebar" vp-footer data-v-d90a7a26 data-v-400675cf><!--[--><div class="container" data-v-400675cf><p class="message" data-v-400675cf>Sreio Docs </p><!----></div><!--]--></footer><!--[--><!--]--><!--]--></div><!----><!--]--><!--[--><!--]--><!--]--></div><script type="module" src="/assets/app-DWByWgeb.js" defer></script></body></html>